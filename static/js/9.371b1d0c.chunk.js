(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[9],{941:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return pn}));var r,a,c,i,s,l,o,d,b,j,u,p,O,x,h,m,f,g,v,y,k,w,S,C,T,A,V,D,q,L,N,P,B,E,I,R,U,z,F,Q,M,Y,G,H,W,K,_,X,$,J,Z,ee=n(1),te=n(18),ne=n(7),re=n(2),ae=n.n(re),ce=n(44),ie=n(9),se=n.n(ie),le=n(70),oe=n(13),de=n(5),be=n(863),je=n(174),ue=n(152),pe=n(27),Oe=n(48),xe=n(148),he=n(221),me=n(279),fe=n(121),ge=function(e){return e>=139&&e<=250},ve=n(864),ye=n(138),ke=n(124),we=n(39),Se=n(893),Ce=n(894),Te=n(865),Ae=n(175),Ve=n(895),De=n(35),qe=n(0),Le=de.e.div(r||(r=Object(ne.a)(["\n  margin-top: 24px;\n"]))),Ne=Object(de.e)(oe.E)(a||(a=Object(ne.a)(["\n  font-weight: 400;\n"]))),Pe=function(e){var t=e.bscScanAddress,n=e.removed,r=e.totalValueFormatted,a=e.lpLabel,c=e.addLiquidityUrl,i=Object(Oe.b)().t;return Object(qe.jsxs)(Le,{children:[Object(qe.jsxs)(oe.w,{justifyContent:"space-between",children:[Object(qe.jsxs)(oe.V,{children:[i("Total Liquidity"),":"]}),r?Object(qe.jsx)(oe.V,{children:r}):Object(qe.jsx)(oe.R,{width:75,height:25})]}),!n&&c&&Object(qe.jsx)(Ne,{href:c,children:i("Get %symbol%",{symbol:a})}),Object(qe.jsx)(Ne,{href:t,children:i("View Contract")})]})},Be=n(847),Ee=Object(de.e)(oe.w)(c||(c=Object(ne.a)(["\n  svg {\n    margin-right: 4px;\n  }\n"]))),Ie=Object(de.e)(oe.U)(i||(i=Object(ne.a)(["\n  margin-left: 4px;\n"]))),Re=function(e){var t=e.lpLabel,n=e.multiplier,r=e.token,a=e.quoteToken;return Object(qe.jsxs)(Ee,{justifyContent:"space-between",alignItems:"center",mb:"12px",children:[Object(qe.jsx)(Be.a,{variant:"inverted",primaryToken:r,secondaryToken:a,isTokenOnly:!1,width:64,height:64}),Object(qe.jsxs)(oe.w,{flexDirection:"column",alignItems:"flex-end",children:[Object(qe.jsx)(oe.y,{mb:"4px",children:t.split(" ")[0]}),Object(qe.jsx)(oe.w,{justifyContent:"center",children:n?Object(qe.jsx)(Ie,{variant:"secondary",children:n}):Object(qe.jsx)(oe.R,{ml:"4px",width:42,height:28})})]})]})},Ue=n(4),ze=n(20),Fe=n(98),Qe=n(866),Me=function(e,t){var n=Object(Qe.a)().callWithGasPrice;return{onApprove:Object(re.useCallback)(Object(ze.a)(Object(Ue.a)().mark((function r(){var a,c;return Object(Ue.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n(e,"approve",[t,Fe.a.constants.MaxUint256]);case 2:return a=r.sent,r.next=5,a.wait();case 5:return c=r.sent,r.abrupt("return",c.status);case 7:case"end":return r.stop()}}),r)}))),[e,t,n])}},Ye=n(172),Ge=n(839),He=n(278),We=n(838),Ke=n(837),_e=n(846),Xe=n(126),$e=function(e){var t=Object(Xe.f)(e);return{onUnstake:Object(re.useCallback)(Object(ze.a)(Object(Ue.a)().mark((function e(){return Object(Ue.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.e)(t);case 2:case"end":return e.stop()}}),e)}))),[t])}},Je=function(e){var t=Object(Xe.f)(e);return{onStake:Object(re.useCallback)(Object(ze.a)(Object(Ue.a)().mark((function e(){var n;return Object(Ue.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.c)(t);case 2:n=e.sent,console.info(n);case 4:case"end":return e.stop()}}),e)}))),[t])}},Ze=n(850),et=function(e){var t=e.onConfirm,n=e.onDismiss,r=e.tokenName,a=void 0===r?"":r,c=e.addLiquidityUrl,i=e.max,s=Object(Ye.a)(),l=s.toastSuccess,o=s.toastError,d=Object(re.useState)(!1),b=Object(te.a)(d,2),j=b[0],u=b[1],p=Object(Oe.b)().t,O=Object(re.useMemo)((function(){return Object(Ke.f)(i)}),[i]);return Object(qe.jsxs)(oe.I,{title:"Stake Tokens",onDismiss:n,children:[Object(qe.jsx)(oe.V,{fontSize:"16px",children:"You will stake into the vault:"}),Object(qe.jsxs)(oe.V,{fontSize:"16px",children:["`$",O," ",a," LPs`"]}),Object(qe.jsxs)(Ze.a,{children:[Object(qe.jsx)(oe.h,{variant:"secondary",onClick:n,width:"100%",disabled:j,children:p("Cancel")}),Object(qe.jsx)(oe.h,{width:"100%",disabled:j,onClick:Object(ze.a)(Object(Ue.a)().mark((function e(){return Object(Ue.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,t();case 4:l(p("Staked!"),"Your funds have been staked in the vault"),n(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),o(p("Error"),p("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),children:p(j?"Confirming":"Confirm")})]}),Object(qe.jsx)(oe.E,{href:c,style:{alignSelf:"center"},children:p("Get %symbol%",{symbol:a})})]})},tt=function(e){var t=e.onConfirm,n=e.onDismiss,r=e.max,a=e.tokenName,c=void 0===a?"":a,i=Object(re.useState)(""),s=Object(te.a)(i,2),l=s[0],o=s[1],d=Object(Ye.a)(),b=d.toastSuccess,j=d.toastError,u=Object(re.useState)(!1),p=Object(te.a)(u,2),O=p[0],x=p[1],h=Object(Oe.b)().t,m=Object(re.useMemo)((function(){return Object(Ke.f)(r)}),[r]),f=new se.a(l),g=new se.a(m),v=Object(re.useCallback)((function(e){e.currentTarget.validity.valid&&o(e.currentTarget.value.replace(/,/g,"."))}),[o]),y=Object(re.useCallback)((function(){o(m)}),[m,o]);return Object(qe.jsxs)(oe.I,{title:h("Unstake LP tokens"),onDismiss:n,children:[Object(qe.jsx)(Ze.b,{onSelectMax:y,onChange:v,value:l,max:m,symbol:c,inputTitle:h("Unstake")}),Object(qe.jsxs)(Ze.a,{children:[Object(qe.jsx)(oe.h,{variant:"secondary",onClick:n,width:"100%",disabled:O,children:h("Cancel")}),Object(qe.jsx)(oe.h,{disabled:O||!f.isFinite()||f.eq(0)||f.gt(g),onClick:Object(ze.a)(Object(Ue.a)().mark((function e(){return Object(Ue.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,t(l);case 4:b(h("Unstaked!"),h("Your earnings have also been harvested to your wallet")),n(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),j(h("Error"),h("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 12:return e.prev=12,x(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])}))),width:"100%",children:h(O?"Confirming":"Confirm")})]})]})},nt=de.e.div(s||(s=Object(ne.a)(["\n  display: flex;\n  svg {\n    width: 20px;\n  }\n"]))),rt=function(e){var t=e.stakedBalance,n=e.tokenBalance,r=e.tokenName,a=e.pid,c=(e.multiplier,e.apr,e.displayApr,e.addLiquidityUrl),i=(e.cakePrice,e.lpLabel),s=(e.isTokenOnly,Object(Oe.b)().t),l=Je("empty").onStake,o=$e("empty").onUnstake,d=Object(ce.f)(),b=Object(xe.b)(),j=Object(le.c)().account,u=Object(ke.d)(r),p=function(){var e=Object(ze.a)(Object(Ue.a)().mark((function e(){return Object(Ue.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:b(Object(me.b)({account:j,pids:[a]}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(ze.a)(Object(Ue.a)().mark((function e(){return Object(Ue.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:b(Object(me.b)({account:j,pids:[a]}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=Object(re.useCallback)((function(){var e=Object(Ke.d)(t);return e.gt(0)&&e.lt(1e-7)?"<0.0000001":e.gt(0)?e.toFixed(8,se.a.ROUND_DOWN):e.toFixed(3,se.a.ROUND_DOWN)}),[t]),h=Object(oe.ib)(Object(qe.jsx)(et,{max:n,onConfirm:p,tokenName:r,lpLabel:i,addLiquidityUrl:c})),m=Object(te.a)(h,1)[0],f=Object(oe.ib)(Object(qe.jsx)(tt,{max:t,onConfirm:O,tokenName:r})),g=Object(te.a)(f,1)[0];return Object(qe.jsxs)(oe.w,{justifyContent:"space-between",alignItems:"center",children:[Object(qe.jsxs)(oe.w,{flexDirection:"column",alignItems:"flex-start",children:[Object(qe.jsx)(oe.y,{color:t.eq(0)?"textDisabled":"text",children:x()}),t.gt(0)&&u.gt(0)&&Object(qe.jsx)(We.a,{fontSize:"12px",color:"textSubtle",decimals:2,value:Object(Ke.e)(u.times(t)),unit:" USD",prefix:"~"})]}),t.eq(0)?Object(qe.jsx)(oe.h,{onClick:m,disabled:["history","archived"].some((function(e){return d.pathname.includes(e)})),children:s("Stake LP")}):Object(qe.jsxs)(nt,{children:[Object(qe.jsx)(oe.A,{variant:"tertiary",onClick:g,mr:"6px",children:Object(qe.jsx)(oe.H,{color:"primary",width:"14px"})}),Object(qe.jsx)(oe.A,{variant:"tertiary",onClick:m,disabled:["history","archived"].some((function(e){return d.pathname.includes(e)})),children:Object(qe.jsx)(oe.a,{color:"primary",width:"14px"})})]})]})},at=de.e.div(l||(l=Object(ne.a)(["\n  padding-top: 16px;\n"]))),ct=function(e){var t=e.vault,n=e.account,r=e.addLiquidityUrl,a=e.cakePrice,c=e.lpLabel,i=Object(Oe.b)().t,s=Object(Ye.a)().toastError,l=Object(re.useState)(!1),o=Object(te.a)(l,2),d=o[0],b=o[1],j=t.pid,u=t.lpAddresses,p=t.userData||{},O=p.allowance,x=p.tokenBalance,h=p.stakedBalance,m=Object(De.a)(u),f=n&&O&&parseInt(O.toString())>0,g=Object(xe.b)(),v=Object(Ge.a)(m),y=Me(v,"empty").onApprove,k=Object(re.useCallback)(Object(ze.a)(Object(Ue.a)().mark((function e(){return Object(Ue.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),e.next=4,y();case 4:g(Object(me.b)({account:n,pids:[j]})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),s(i("Error"),i("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,b(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])}))),[y,g,n,j,i,s]);return Object(qe.jsxs)(at,{children:[Object(qe.jsxs)(oe.w,{children:[Object(qe.jsx)(oe.V,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",pr:"4px",children:"MARIACHI"}),Object(qe.jsx)(oe.V,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:i("Earned")})]}),Object(qe.jsxs)(oe.w,{children:[Object(qe.jsx)(oe.V,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",pr:"4px",children:t.lpSymbol}),Object(qe.jsx)(oe.V,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:i("Staked")})]}),n?f?Object(qe.jsx)(rt,{stakedBalance:h,tokenBalance:x,tokenName:t.lpSymbol,pid:j,apr:t.apr,lpLabel:c,cakePrice:a,addLiquidityUrl:r,isTokenOnly:t.isTokenOnly}):Object(qe.jsx)(oe.h,{mt:"8px",width:"100%",disabled:d,onClick:k,children:i("Enable Contract")}):Object(qe.jsx)(He.a,{mt:"8px",width:"100%"})]})},it=Object(de.e)(oe.w)(o||(o=Object(ne.a)(["\n  &:hover {\n    opacity: 0.5;\n  }\n"]))),st=function(e){var t=e.displayApr;return Object(qe.jsxs)(it,{alignItems:"center",children:[t,"%"]})},lt=Object(de.e)(oe.l)(d||(d=Object(ne.a)(["\n  align-self: baseline;\n"]))),ot=Object(de.e)(oe.w)(b||(b=Object(ne.a)(["\n  flex-direction: column;\n  justify-content: space-around;\n  padding: 24px;\n"]))),dt=de.e.div(j||(j=Object(ne.a)(["\n  padding: 24px;\n  border-top: 2px solid ",";\n  overflow: hidden;\n"])),(function(e){return e.theme.colors.cardBorder})),bt=function(e){var t=e.vault,n=e.displayApr,r=e.removed,a=e.cakePrice,c=e.account,i=Object(Oe.b)().t,s=Object(re.useState)(!1),l=Object(te.a)(s,2),o=l[0],d=l[1],b=t.liquidity&&t.liquidity.isGreaterThanOrEqualTo(0)?"$".concat(t.liquidity.toNumber().toLocaleString(void 0,{maximumFractionDigits:0})):"",j=t.lpSymbol&&t.lpSymbol.toUpperCase().replace("PANCAKE",""),u=Object(De.a)(t.lpAddresses),p="CAKE"===t.tokenSymbol;return Object(qe.jsxs)(lt,{isActive:p,children:[Object(qe.jsxs)(ot,{children:[Object(qe.jsx)(Re,{lpLabel:j,multiplier:t.multiplier,token:t.tokenSymbol,quoteToken:t.quoteTokenSymbol}),!r&&Object(qe.jsxs)(oe.w,{justifyContent:"space-between",alignItems:"center",children:[Object(qe.jsxs)(oe.V,{children:[i("APY"),":"]}),Object(qe.jsx)(oe.V,{bold:!0,style:{display:"flex",alignItems:"center"},children:t.apr?Object(qe.jsx)(st,{displayApr:n}):Object(qe.jsx)(oe.R,{height:24,width:80})})]}),Object(qe.jsxs)(oe.w,{justifyContent:"space-between",children:[Object(qe.jsxs)(oe.V,{children:[i("Earn"),":"]}),Object(qe.jsx)(oe.V,{bold:!0,children:"MARIACHI"})]}),Object(qe.jsx)(ct,{vault:t,lpLabel:j,account:c,cakePrice:a})]}),Object(qe.jsxs)(dt,{children:[Object(qe.jsx)(Ve.a,{onClick:function(){return d(!o)},expanded:o}),o&&Object(qe.jsx)(Pe,{removed:r,bscScanAddress:Object(Ae.a)(u,"address"),totalValueFormatted:b,lpLabel:j})]})]})},jt=n(867),ut=de.e.div(u||(u=Object(ne.a)(["\n  display: flex;\n  align-items: center;\n  color: ",";\n\n  button {\n    width: 20px;\n    height: 20px;\n\n    svg {\n      path {\n        fill: ",";\n      }\n    }\n  }\n"])),(function(e){return e.theme.colors.text}),(function(e){return e.theme.colors.textSubtle})),pt=de.e.div(p||(p=Object(ne.a)(["\n  min-width: 60px;\n  text-align: left;\n"]))),Ot=function(e){var t=e.value,n=e.originalValue;return 0!==n?Object(qe.jsx)(ut,{children:n?Object(qe.jsx)(st,{displayApr:t}):Object(qe.jsx)(pt,{children:Object(qe.jsx)(oe.R,{width:60})})}):Object(qe.jsx)(ut,{children:Object(qe.jsxs)(pt,{children:[n,"%"]})})},xt=de.e.div(O||(O=Object(ne.a)(["\n  padding-left: 16px;\n  display: flex;\n  align-items: center;\n\n  "," {\n    padding-left: 32px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ht=de.e.div(x||(x=Object(ne.a)(["\n  padding-right: 8px;\n  width: 24px;\n\n  "," {\n    width: 40px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),mt=function(e){var t=e.token,n=e.quoteToken,r=e.label,a=e.pid,c=(e.vaultAddress,Object(ke.g)(a).stakedBalance),i=Object(Oe.b)().t,s=Object(Ke.e)(c);return Object(qe.jsxs)(xt,{children:[Object(qe.jsx)(ht,{children:Object(qe.jsx)(Be.a,{variant:"inverted",primaryToken:t,secondaryToken:n,isTokenOnly:!1,width:40,height:40})}),Object(qe.jsxs)("div",{children:[s?Object(qe.jsx)(oe.V,{color:"secondary",fontSize:"12px",bold:!0,textTransform:"uppercase",children:i("Vaulting")}):null,Object(qe.jsx)(oe.V,{bold:!0,children:r})]})]})},ft=de.e.div(h||(h=Object(ne.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: flex-end;\n  padding-right: 8px;\n  color: ",";\n\n  "," {\n    padding-right: 0px;\n  }\n"])),(function(e){return e.theme.colors.primary}),(function(e){return e.theme.mediaQueries.sm})),gt=Object(de.e)(oe.o)(m||(m=Object(ne.a)(["\n  transform: ",";\n  height: 20px;\n"])),(function(e){return e.toggled?"rotate(180deg)":"rotate(0)"})),vt=function(e){var t=e.actionPanelToggled,n=Object(Oe.b)().t,r=Object(oe.hb)().isDesktop;return Object(qe.jsxs)(ft,{children:[!r&&n("Details"),Object(qe.jsx)(gt,{color:"primary",toggled:t})]})},yt=de.e.div(f||(f=Object(ne.a)(["\n  min-width: 110px;\n  font-weight: 600;\n  text-align: right;\n  margin-right: 14px;\n\n  "," {\n    text-align: left;\n    margin-right: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.lg})),kt=de.e.div(g||(g=Object(ne.a)(["\n  display: flex;\n  align-items: center;\n"]))),wt=function(e){var t=e.liquidity,n=t&&t.isGreaterThanOrEqualTo(0)?"$".concat(Number(t).toLocaleString(void 0,{maximumFractionDigits:0})):Object(qe.jsx)(oe.R,{width:60});return Object(qe.jsx)(kt,{children:Object(qe.jsx)(yt,{children:Object(qe.jsx)(oe.V,{children:n})})})},St=de.e.div(v||(v=Object(ne.a)(["\n  padding: 16px;\n  border: 2px solid ",";\n  border-radius: 16px;\n  flex-grow: 1;\n  flex-basis: 0;\n  margin-bottom: 16px;\n\n  "," {\n    margin-left: 12px;\n    margin-right: 12px;\n    margin-bottom: 0;\n    max-height: 100px;\n  }\n\n  "," {\n    margin-left: 48px;\n    margin-right: 0;\n    margin-bottom: 0;\n    max-height: 100px;\n  }\n"])),(function(e){return e.theme.colors.input}),(function(e){return e.theme.mediaQueries.sm}),(function(e){return e.theme.mediaQueries.xl})),Ct=de.e.div(y||(y=Object(ne.a)(["\n  display: flex;\n"]))),Tt=de.e.div(k||(k=Object(ne.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]))),At=de.e.div(w||(w=Object(ne.a)(["\n  display: flex;\n"]))),Vt=function(e){var t=e.pid,n=(e.apr,e.multiplier,e.lpSymbol),r=e.lpLabel,a=e.lpAddresses,c=e.userDataReady,i=(e.displayApr,e.isTokenOnly,e.userData,e.vaultAddress),s=Object(Oe.b)().t;console.log(i,t);var l=Object(Ye.a)().toastError,o=Object(le.c)().account,d=Object(re.useState)(!1),b=Object(te.a)(d,2),j=b[0],u=b[1],p=Object(ke.g)(t),O=p.stakedBalance,x=p.tokenBalance,h=p.allowance,m=Je(i).onStake,f=$e(i).onUnstake,g=Object(ce.f)(),v=Object(ke.d)(n),y=(Object(ke.f)(),o&&h&&parseInt(h.toString())>0),k=Object(De.a)(a),w=function(){var e=Object(ze.a)(Object(Ue.a)().mark((function e(){return Object(Ue.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:L(Object(me.b)({account:o}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(ze.a)(Object(Ue.a)().mark((function e(){return Object(Ue.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:L(Object(me.b)({account:o}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=Object(re.useCallback)((function(){var e=Object(Ke.d)(new ie.BigNumber(O));return e.gt(0)&&e.lt(1e-7)?e.toFixed(10,ie.BigNumber.ROUND_DOWN):e.gt(0)&&e.lt(1e-4)?Object(Ke.f)(new ie.BigNumber(O)).toLocaleString():e.toFixed(3,ie.BigNumber.ROUND_DOWN)}),[O]),T=Object(oe.ib)(Object(qe.jsx)(et,{max:x,lpLabel:r,onConfirm:w,tokenName:n})),A=Object(te.a)(T,1)[0],V=Object(oe.ib)(Object(qe.jsx)(tt,{max:new ie.BigNumber(O),onConfirm:S,tokenName:n})),D=Object(te.a)(V,1)[0],q=Object(Ge.a)(k),L=Object(xe.b)(),N=Me(q,i).onApprove,P=Object(re.useCallback)(Object(ze.a)(Object(Ue.a)().mark((function e(){return Object(Ue.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,N();case 4:L(Object(me.b)({account:o,pids:[t]})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),l(s("Error"),s("Please try again. Confirm the transaction and make sure you are paying enough gas!")),console.error(e.t0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])}))),[N,L,o,t,s,l]);return o?y?new ie.BigNumber(O).gt(0)?Object(qe.jsxs)(St,{children:[Object(qe.jsxs)(Ct,{children:[Object(qe.jsx)(oe.V,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",pr:"4px",children:n}),Object(qe.jsx)(oe.V,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:s("Staked")})]}),Object(qe.jsxs)(Tt,{children:[Object(qe.jsxs)("div",{children:[Object(qe.jsx)(oe.y,{children:C()}),new ie.BigNumber(O).gt(0)&&v.gt(0)&&Object(qe.jsx)(We.a,{fontSize:"12px",color:"textSubtle",decimals:2,value:Object(Ke.e)(v.times(new ie.BigNumber(O))),unit:" USD",prefix:"~"})]}),Object(qe.jsxs)(At,{children:[Object(qe.jsx)(oe.A,{variant:"secondary",onClick:D,mr:"6px",children:Object(qe.jsx)(oe.H,{color:"primary",width:"14px"})}),Object(qe.jsx)(oe.A,{variant:"secondary",onClick:A,disabled:["history","archived"].some((function(e){return g.pathname.includes(e)})),children:Object(qe.jsx)(oe.a,{color:"primary",width:"14px"})})]})]})]}):Object(qe.jsxs)(St,{children:[Object(qe.jsxs)(Ct,{children:[Object(qe.jsx)(oe.V,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",pr:"4px",children:s("Stake")}),Object(qe.jsx)(oe.V,{bold:!0,textTransform:"uppercase",color:"secondary",fontSize:"12px",children:n})]}),Object(qe.jsx)(Tt,{children:Object(qe.jsx)(oe.h,{width:"100%",onClick:A,variant:"secondary",disabled:["history","archived"].some((function(e){return g.pathname.includes(e)})),children:s("Stake LP")})})]}):c?Object(qe.jsxs)(St,{children:[Object(qe.jsx)(Ct,{children:Object(qe.jsx)(oe.V,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:s("Enable Vault")})}),Object(qe.jsx)(Tt,{children:Object(qe.jsx)(oe.h,{width:"100%",disabled:j,onClick:P,variant:"secondary",children:s("Enable")})})]}):Object(qe.jsxs)(St,{children:[Object(qe.jsx)(Ct,{children:Object(qe.jsx)(oe.V,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:s("Start Vaulting")})}),Object(qe.jsx)(Tt,{children:Object(qe.jsx)(oe.R,{width:180,marginBottom:28,marginTop:14})})]}):Object(qe.jsxs)(St,{children:[Object(qe.jsx)(Ct,{children:Object(qe.jsx)(oe.V,{bold:!0,textTransform:"uppercase",color:"textSubtle",fontSize:"12px",children:s("Start Vaulting")})}),Object(qe.jsx)(Tt,{children:Object(qe.jsx)(He.a,{width:"100%"})})]})},Dt=Object(de.f)(S||(S=Object(ne.a)(["\n  from {\n    max-height: 0px;\n  }\n  to {\n    max-height: 500px;\n  }\n"]))),qt=Object(de.f)(C||(C=Object(ne.a)(["\n  from {\n    max-height: 500px;\n  }\n  to {\n    max-height: 0px;\n  }\n"]))),Lt=de.e.div(T||(T=Object(ne.a)(["\n  animation: ",";\n  overflow: hidden;\n  background: ",";\n  display: flex;\n  width: 100%;\n  flex-direction: column-reverse;\n  padding: 24px;\n\n  "," {\n    flex-direction: row;\n    padding: 16px 32px;\n  }\n"])),(function(e){return e.expanded?Object(de.d)(A||(A=Object(ne.a)(["\n          "," 300ms linear forwards\n        "])),Dt):Object(de.d)(V||(V=Object(ne.a)(["\n          "," 300ms linear forwards\n        "])),qt)}),(function(e){return e.theme.colors.background}),(function(e){return e.theme.mediaQueries.lg})),Nt=Object(de.e)(oe.E)(D||(D=Object(ne.a)(["\n  font-weight: 400;\n"]))),Pt=de.e.div(q||(q=Object(ne.a)(["\n  display: flex;\n  flex-direction: column;\n\n  "," {\n    flex-direction: row;\n    align-items: center;\n    flex-grow: 1;\n    flex-basis: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),Bt=de.e.div(L||(L=Object(ne.a)(["\n  min-width: 200px;\n"]))),Et=de.e.div(N||(N=Object(ne.a)(["\n  display: block;\n\n  "," {\n    display: none;\n  }\n"])),(function(e){return e.theme.mediaQueries.lg})),It=de.e.div(P||(P=Object(ne.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 4px 0px;\n"]))),Rt=function(e){var t=e.details,n=e.apr,r=e.liquidity,a=e.userDataReady,c=e.expanded,i=e.vault,s=t,l=Object(Oe.b)().t,o=s.lpSymbol&&s.lpSymbol.toUpperCase().replace("PANCAKE",""),d=Object(De.a)(s.lpAddresses),b="https://explorer.dogechain.dog/address/".concat(d);return Object(qe.jsxs)(Lt,{expanded:c,children:[Object(qe.jsx)(Bt,{children:Object(qe.jsx)(Nt,{href:b,children:l("View Contract")})}),Object(qe.jsxs)(Et,{children:[Object(qe.jsxs)(It,{children:[Object(qe.jsx)(oe.V,{children:"APY"}),Object(qe.jsx)(Ot,Object(ee.a)({},n))]}),Object(qe.jsxs)(It,{children:[Object(qe.jsx)(oe.V,{children:l("Liquidity")}),Object(qe.jsx)(wt,Object(ee.a)({},r))]})]}),Object(qe.jsx)(Pt,{children:Object(qe.jsx)(Vt,Object(ee.a)(Object(ee.a)({},s),{},{userDataReady:a,lpLabel:o,displayApr:n.value,vaultAddress:i.vaultAddress}))})]})},Ut=de.e.div(B||(B=Object(ne.a)(["\n  font-size: 12px;\n  color: ",";\n  text-align: left;\n"])),(function(e){return e.theme.colors.textSubtle})),zt=de.e.div(E||(E=Object(ne.a)(["\n  min-height: 24px;\n  display: flex;\n  align-items: center;\n"]))),Ft=function(e){var t=e.label,n=void 0===t?"":t,r=e.children;return Object(qe.jsxs)("div",{children:[n&&Object(qe.jsx)(Ut,{children:n}),Object(qe.jsx)(zt,{children:r})]})},Qt=[{id:1,name:"vault",sortable:!0,label:""},{id:2,name:"apr",sortable:!0,label:"APY"},{id:4,name:"details",sortable:!0,label:""}],Mt=[{id:1,name:"vault",sortable:!0,label:""},{id:2,name:"apr",sortable:!0,label:"APY"},{id:3,name:"liquidity",sortable:!0,label:"Liquidity"},{id:4,name:"details",sortable:!0,label:""}],Yt={apr:Ot,vault:mt,details:vt,liquidity:wt},Gt=de.e.div(I||(I=Object(ne.a)(["\n  padding: 24px 0px;\n  display: flex;\n  width: 100%;\n  align-items: center;\n  padding-right: 8px;\n\n  "," {\n    padding-right: 32px;\n  }\n"])),(function(e){return e.theme.mediaQueries.xl})),Ht=de.e.tr(R||(R=Object(ne.a)(["\n  cursor: pointer;\n  border-bottom: 2px solid ",";\n"])),(function(e){return e.theme.colors.cardBorder})),Wt=de.e.td(U||(U=Object(ne.a)(["\n  padding-top: 16px;\n  padding-bottom: 24px;\n"]))),Kt=de.e.td(z||(z=Object(ne.a)(["\n  padding-top: 24px;\n"]))),_t=function(e){var t=e.details,n=e.userDataReady,r=e.apr,a=e.vault,c=e.liquidity,i=!!Object(ke.g)(t.pid).stakedBalance.toNumber(),s=Object(re.useState)(i),l=Object(te.a)(s,2),o=l[0],d=l[1],b=Object(jt.a)(o,300),j=Object(Oe.b)().t,u=function(){d(!o)};Object(re.useEffect)((function(){d(i)}),[i]);var p=Object(oe.hb)(),O=p.isDesktop,x=p.isMobile,h=!O?Qt:Mt,m=h.map((function(e){return e.name}));return Object(qe.jsxs)(qe.Fragment,{children:[function(){var i={liquidity:c,vault:a,apr:r,details:t};return x?Object(qe.jsxs)(Ht,{onClick:u,children:[Object(qe.jsxs)("td",{children:[Object(qe.jsx)("tr",{children:Object(qe.jsx)(Kt,{children:Object(qe.jsx)(Ft,{children:Object(qe.jsx)(mt,Object(ee.a)({},a))})})}),Object(qe.jsx)("tr",{children:Object(qe.jsx)(Wt,{children:Object(qe.jsx)(Ft,{label:"APY",children:Object(qe.jsx)(Ot,Object(ee.a)({},r))})})})]}),Object(qe.jsx)("td",{children:Object(qe.jsx)(Gt,{children:Object(qe.jsx)(Ft,{children:Object(qe.jsx)(vt,{actionPanelToggled:o})})})})]}):Object(qe.jsx)(Ht,{onClick:u,children:Object.keys(e).map((function(e){var t=m.indexOf(e);if(-1===t)return null;switch(e){case"details":return Object(qe.jsx)("td",{children:Object(qe.jsx)(Gt,{children:Object(qe.jsx)(Ft,{children:Object(qe.jsx)(vt,{actionPanelToggled:o})})})},e);case"apr":return Object(qe.jsx)("td",{children:Object(qe.jsx)(Gt,{children:Object(qe.jsx)(Ft,{label:"APY",children:Object(qe.jsx)(Ot,Object(ee.a)({},r))})})},e);default:return Object(qe.jsx)("td",{children:Object(qe.jsx)(Gt,{children:Object(qe.jsx)(Ft,{label:j(h[t].label),children:ae.a.createElement(Yt[e],Object(ee.a)(Object(ee.a)({},i[e]),{},{userDataReady:n}))})})},e)}}))})}(),b&&Object(qe.jsx)("tr",{children:Object(qe.jsx)("td",{colSpan:6,children:Object(qe.jsx)(Rt,Object(ee.a)(Object(ee.a)({},e),{},{expanded:o}))})})]})},Xt=de.e.div(F||(F=Object(ne.a)(["\n  filter: ",";\n  width: 100%;\n  background: ",";\n  border-radius: 16px;\n  margin: 16px 0px;\n"])),(function(e){return e.theme.card.dropShadow}),(function(e){return e.theme.card.background})),$t=de.e.div(Q||(Q=Object(ne.a)(["\n  overflow: visible;\n  scroll-margin-top: 64px;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),Jt=de.e.table(M||(M=Object(ne.a)(["\n  border-collapse: collapse;\n  font-size: 14px;\n  border-radius: 4px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 100%;\n"]))),Zt=de.e.tbody(Y||(Y=Object(ne.a)(["\n  & tr {\n    td {\n      font-size: 16px;\n      vertical-align: middle;\n    }\n  }\n"]))),en=de.e.div(G||(G=Object(ne.a)(["\n  position: relative;\n"]))),tn=de.e.div(H||(H=Object(ne.a)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 5px;\n  padding-bottom: 5px;\n"]))),nn=function(e){var t=Object(re.useRef)(null),n=Object(Oe.b)().t,r=e.data,a=e.columns,c=e.userDataReady,i=Object(oe.jb)(a,r,{sortable:!0,sortColumn:"vault"}).rows;return Object(qe.jsx)(Xt,{id:"vaults-table",children:Object(qe.jsxs)(en,{children:[Object(qe.jsx)($t,{ref:t,children:Object(qe.jsx)(Jt,{children:Object(qe.jsx)(Zt,{children:i.map((function(e){return Object(re.createElement)(_t,Object(ee.a)(Object(ee.a)({},e.original),{},{userDataReady:c,key:"table-row-".concat(e.id)}))}))})})}),Object(qe.jsx)(tn,{children:Object(qe.jsxs)(oe.h,{variant:"text",onClick:function(){t.current.scrollIntoView({behavior:"smooth"})},children:[n("To Top"),Object(qe.jsx)(oe.p,{color:"primary"})]})})]})})},rn=n(88),an=function(e){var t,n=e.hasStakeInFinishedVaults,r=Object(ce.g)().url,a=Object(ce.f)(),c=Object(Oe.b)().t;switch(a.pathname){case"/vaults":default:t=0;break;case"/vaults/history":t=1;break;case"/vaults/archived":t=2}return Object(qe.jsx)(cn,{children:Object(qe.jsxs)(oe.i,{activeIndex:t,scale:"sm",variant:"subtle",children:[Object(qe.jsx)(oe.j,{as:rn.a,to:"".concat(r),children:c("Live")}),Object(qe.jsx)(oe.O,{show:n,children:Object(qe.jsx)(oe.j,{id:"finished-vaults-button",as:rn.a,to:"".concat(r,"/history"),children:c("Finished")})})]})})},cn=de.e.div(W||(W=Object(ne.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  a {\n    padding-left: 12px;\n    padding-right: 12px;\n  }\n\n  "," {\n    margin-left: 16px;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),sn=de.e.div(K||(K=Object(ne.a)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n  position: relative;\n\n  justify-content: space-between;\n  flex-direction: column;\n  margin-bottom: 32px;\n\n  "," {\n    flex-direction: row;\n    flex-wrap: wrap;\n    padding: 16px 32px;\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),ln=de.e.div(_||(_=Object(ne.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: 10px;\n\n  "," {\n    margin-left: 8px;\n  }\n"])),oe.V),on=de.e.div(X||(X=Object(ne.a)(["\n  > "," {\n    font-size: 12px;\n  }\n"])),oe.V),dn=de.e.div($||($=Object(ne.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  padding: 8px 0px;\n\n  "," {\n    width: auto;\n    padding: 0;\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),bn=de.e.div(J||(J=Object(ne.a)(["\n  flex-wrap: wrap;\n  justify-content: space-between;\n  display: flex;\n  align-items: center;\n  width: 100%;\n\n  > div {\n    padding: 8px 0px;\n  }\n\n  "," {\n    justify-content: flex-start;\n    width: auto;\n\n    > div {\n      padding: 0;\n    }\n  }\n"])),(function(e){return e.theme.mediaQueries.sm})),jn=Object(de.e)(oe.B)(Z||(Z=Object(ne.a)(["\n  margin-left: auto;\n  margin-right: auto;\n  margin-top: 58px;\n"]))),un=function(e){return e?e.toLocaleString("en-US",{maximumFractionDigits:2}):null},pn=function(){var e=Object(ce.g)().path,t=Object(ce.f)().pathname,n=Object(Oe.b)().t,r=Object(ke.h)(),a=Object(ke.f)(),c=Object(ke.e)(),i=Object(re.useState)(""),s=Object(te.a)(i,2),l=s[0],o=s[1],d=we.c.TABLE,b=Object(le.c)().account,j=Object(re.useState)("hot"),u=Object(te.a)(j,2),p=u[0],O=u[1],x=Object(he.a)().fastRefresh,h=Object(xe.b)(),m=t.includes("archived"),f=t.includes("history"),g=!f&&!m;Object(re.useEffect)((function(){b&&h(Object(me.b)(b))}),[b,h,x]);var v=Object(ye.e)(g),y=Object(te.a)(v,2),k=y[0],w=y[1],S=r.filter((function(e){return 999!==e.pid&&"0X"!==e.multiplier&&!ge(e.pid)})),C=r.filter((function(e){return 999!==e.pid&&"0X"===e.multiplier&&!ge(e.pid)})),T=r.filter((function(e){return ge(e.pid)})),A=!b||S.length>0,V=S.filter((function(e){return e.userData&&new se.a(e.userData.stakedBalance).isGreaterThan(0)})),D=C.filter((function(e){return e.userData&&new se.a(e.userData.stakedBalance).isGreaterThan(0)})),q=T.filter((function(e){return e.userData&&new se.a(e.userData.stakedBalance).isGreaterThan(0)})),L=Object(re.useCallback)((function(e){var t=e.map((function(e){var t,n=new se.a(e.mariachiPerBlock||1).times(new se.a(e.poolWeight)).div(new se.a(10).pow(18)).times(ue.d),r=a.times(n);if(e.isTokenOnly&&e.tokenAmount)t=new se.a(e.tokenAmount).times(a);else if(t=new se.a(e.lpTotalInQuoteToken||0),e.quoteTokenSymbol===pe.a.DOGE?t=t.times(c):e.quoteTokenSymbol===pe.a.MARIACHI&&(t=t.times(a)),e.externalPid){var i=t.div(new se.a(e.lpTotalSupply).div(new se.a(10).pow(18))),s=new se.a(e.lpInVamp).plus(new se.a(e.lpInMaster));t=i.times(s)}return t.comparedTo(0)>0&&(r=r.div(t)),Object(ee.a)(Object(ee.a)({},e),{},{apr:parseFloat(r.toString()),liquidity:t})}));if(l){var n=Object(ve.a)(l.toLowerCase());t=t.filter((function(e){return Object(ve.a)(e.lpSymbol.toLowerCase()).includes(n)}))}return t}),[a,c,l]),N=Object(re.useMemo)((function(){var e=[];return g&&(e=L(k?V:S)),f&&(e=L(k?D:C)),m&&(e=L(k?q:T)),function(e){switch(p){case"apr":return Object(fe.orderBy)(e,(function(e){return e.apr}),"desc");case"multiplier":return Object(fe.orderBy)(e,(function(e){return e.multiplier?Number(e.multiplier.slice(0,-1)):0}),"desc");case"earned":return Object(fe.orderBy)(e,(function(e){return e.userData?Number(e.userData.earnings):0}),"desc");case"liquidity":return Object(fe.orderBy)(e,(function(e){return Number(e.liquidity)}),"desc");default:return e}}(e)}),[p,S,L,C,T,g,f,m,q,D,k,V]),P=N.map((function(e){var t=e.tokenAddresses,n=e.quoteTokenAdresses,r=t[2e3],a=n[2e3],c=e.vaultAddresses[2e3],i=e.lpSymbol&&e.lpSymbol.split(" ")[0].toUpperCase().replace("PANCAKE","");return{apr:{value:un(e.apr),originalValue:e.apr},vault:{label:i,pid:e.pid,token:r,quoteToken:a,vaultAddress:c},liquidity:{liquidity:e.liquidity},details:e}}));return Object(qe.jsxs)(qe.Fragment,{children:[Object(qe.jsxs)(Se.a,{children:[Object(qe.jsx)(oe.y,{as:"h1",scale:"xxl",color:"secondary",mb:"24px",children:n("Vaults")}),Object(qe.jsx)(oe.y,{scale:"lg",color:"text",children:n("Yield optimization for your favorite projects. \xa1Qu\xe9 picante!")})]}),Object(qe.jsxs)(je.b,{children:[Object(qe.jsxs)(sn,{children:[Object(qe.jsxs)(bn,{children:[Object(qe.jsxs)(ln,{children:[Object(qe.jsx)(oe.X,{id:"staked-only-vaults",checked:k,onChange:function(){return w(!k)},scale:"sm"}),Object(qe.jsxs)(oe.V,{children:[" ",n("Staked only")]})]}),Object(qe.jsx)(an,{hasStakeInFinishedVaults:D.length>0})]}),Object(qe.jsxs)(dn,{children:[Object(qe.jsxs)(on,{children:[Object(qe.jsx)(oe.V,{textTransform:"uppercase",children:n("Sort by")}),Object(qe.jsx)(Te.a,{options:[{label:n("Hot"),value:"hot"},{label:n("APR"),value:"apr"},{label:n("Multiplier"),value:"multiplier"},{label:n("Earned"),value:"earned"},{label:n("Liquidity"),value:"liquidity"}],onOptionChange:function(e){O(e.value)}})]}),Object(qe.jsxs)(on,{style:{marginLeft:16},children:[Object(qe.jsx)(oe.V,{textTransform:"uppercase",children:n("Search")}),Object(qe.jsx)(Ce.a,{onChange:function(e){o(e.target.value)},placeholder:"Search Vaults"})]})]})]}),function(){if(d===we.c.TABLE&&P.length){var t=Mt.map((function(e){return{id:e.id,name:e.name,label:e.label,sort:function(t,n){switch(e.name){case"vault":return n.id-t.id;case"apr":return t.original.apr.value&&n.original.apr.value?Number(t.original.apr.value)-Number(n.original.apr.value):0;default:return 1}},sortable:e.sortable}}));return Object(qe.jsx)(nn,{data:P,columns:t,userDataReady:A})}return Object(qe.jsxs)(be.a,{children:[Object(qe.jsx)(ce.a,{exact:!0,path:"".concat(e),children:N.map((function(e){return Object(qe.jsx)(bt,{vault:e,displayApr:un(e.apr),cakePrice:new se.a(a),account:b,removed:!1},e.pid)}))}),Object(qe.jsx)(ce.a,{exact:!0,path:"".concat(e,"/history"),children:N.map((function(e){return Object(qe.jsx)(bt,{vault:e,displayApr:un(e.apr),cakePrice:new se.a(a),account:b,removed:!0},e.pid)}))}),Object(qe.jsx)(ce.a,{exact:!0,path:"".concat(e,"/archived"),children:N.map((function(e){return Object(qe.jsx)(bt,{vault:e,displayApr:un(e.apr),cakePrice:new se.a(a),account:b,removed:!0},e.pid)}))})]})}(),Object(qe.jsx)(jn,{src:"/images/decorations/3dpan.png",alt:"Pancake illustration",width:120,height:103})]})]})}}}]);
//# sourceMappingURL=9.371b1d0c.chunk.js.map